<?xml version="1.0" ?>
<virtualizer>
	<id>DoV</id>
	<name>dov-139850177449232</name>
	<nodes>
		<node>
			<id>EE1</id>
			<name>ee-infra-1</name>
			<type>EE</type>
			<ports>
				<port>
					<id>1</id>
					<port_type>port-abstract</port_type>
				</port>
			</ports>
			<links>
				<link>
					<src>/virtualizer/nodes/node[id=EE1]/ports/port[id=1]</src>
					<dst>/virtualizer/nodes/node[id=EE1]/ports/port[id=1]</dst>
					<resources>
						<delay>0.9</delay>
						<bandwidth>5000</bandwidth>
					</resources>
				</link>
			</links>
			<resources>
				<cpu>5</cpu>
				<mem>5</mem>
				<storage>5</storage>
			</resources>
			<NF_instances>
				<node>
					<id>comp</id>
					<name>COMPRESSOR</name>
					<type>headerCompressor</type>
					<ports>
						<port>
							<id>1</id>
							<port_type>port-abstract</port_type>
						</port>
					</ports>
					<resources>
						<cpu>1</cpu>
						<mem>1</mem>
						<storage>0</storage>
					</resources>
				</node>
				<node>
					<id>decomp</id>
					<name>DECOMPRESSOR</name>
					<type>headerDecompressor</type>
					<ports>
						<port>
							<id>1</id>
							<port_type>port-abstract</port_type>
						</port>
					</ports>
					<resources>
						<cpu>1</cpu>
						<mem>1</mem>
						<storage>0</storage>
					</resources>
				</node>
			</NF_instances>
			<capabilities>
				<supported_NFs>
					<node>
						<id>headerCompressor</id>
						<type>headerCompressor</type>
					</node>
					<node>
						<id>headerDecompressor</id>
						<type>headerDecompressor</type>
					</node>
					<node>
						<id>simpleForwarder</id>
						<type>simpleForwarder</type>
					</node>
				</supported_NFs>
			</capabilities>
			<flowtable>
				<flowentry>
					<id>ESCAPE-flowentry0</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=EE1]/ports/port[id=1]</port>
					<match>dl_vlan=0x0001</match>
					<action>strip_vlan</action>
					<out>/virtualizer/nodes/node[id=EE1]/NF_instances/node[id=comp]/ports/port[id=1]</out>
				</flowentry>
				<flowentry>
					<id>ESCAPE-flowentry1</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=EE1]/NF_instances/node[id=comp]/ports/port[id=1]</port>
					<out>/virtualizer/nodes/node[id=EE1]/NF_instances/node[id=decomp]/ports/port[id=1]</out>
				</flowentry>
				<flowentry>
					<id>ESCAPE-flowentry2</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=EE1]/NF_instances/node[id=decomp]/ports/port[id=1]</port>
					<action>push_vlan:0x0003</action>
					<out>/virtualizer/nodes/node[id=EE1]/ports/port[id=1]</out>
				</flowentry>
			</flowtable>
		</node>
		<node>
			<id>EE2</id>
			<name>ee-infra-2</name>
			<type>EE</type>
			<ports>
				<port>
					<id>1</id>
					<port_type>port-abstract</port_type>
				</port>
			</ports>
			<links>
				<link>
					<src>/virtualizer/nodes/node[id=EE2]/ports/port[id=1]</src>
					<dst>/virtualizer/nodes/node[id=EE2]/ports/port[id=1]</dst>
					<resources>
						<delay>0.9</delay>
						<bandwidth>5000</bandwidth>
					</resources>
				</link>
			</links>
			<resources>
				<cpu>5</cpu>
				<mem>5</mem>
				<storage>5</storage>
			</resources>
			<NF_instances>
				<node>
					<id>fwd</id>
					<name>FORWARDER</name>
					<type>simpleForwarder</type>
					<ports>
						<port>
							<id>1</id>
							<port_type>port-abstract</port_type>
						</port>
					</ports>
					<resources>
						<cpu>1</cpu>
						<mem>1</mem>
						<storage>0</storage>
					</resources>
				</node>
			</NF_instances>
			<capabilities>
				<supported_NFs>
					<node>
						<id>headerCompressor</id>
						<type>headerCompressor</type>
					</node>
					<node>
						<id>headerDecompressor</id>
						<type>headerDecompressor</type>
					</node>
					<node>
						<id>simpleForwarder</id>
						<type>simpleForwarder</type>
					</node>
				</supported_NFs>
			</capabilities>
			<flowtable>
				<flowentry>
					<id>ESCAPE-flowentry0</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=EE2]/ports/port[id=1]</port>
					<match>dl_vlan=0x0004</match>
					<action>strip_vlan</action>
					<out>/virtualizer/nodes/node[id=EE2]/NF_instances/node[id=fwd]/ports/port[id=1]</out>
				</flowentry>
				<flowentry>
					<id>ESCAPE-flowentry1</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=EE2]/NF_instances/node[id=fwd]/ports/port[id=1]</port>
					<action>push_vlan:0x0005</action>
					<out>/virtualizer/nodes/node[id=EE2]/ports/port[id=1]</out>
				</flowentry>
			</flowtable>
		</node>
		<node>
			<id>SW1</id>
			<name>switch-1</name>
			<type>SDN-SWITCH</type>
			<ports>
				<port>
					<id>1</id>
					<port_type>port-abstract</port_type>
				</port>
				<port>
					<id>2</id>
					<port_type>port-abstract</port_type>
				</port>
				<port>
					<id>3</id>
					<name>SAP1</name>
					<port_type>port-sap</port_type>
				</port>
			</ports>
			<links>
				<link>
					<src>/virtualizer/nodes/node[id=SW1]/ports/port[id=1]</src>
					<dst>/virtualizer/nodes/node[id=SW1]/ports/port[id=2]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
				<link>
					<src>/virtualizer/nodes/node[id=SW1]/ports/port[id=1]</src>
					<dst>/virtualizer/nodes/node[id=SW1]/ports/port[id=3]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
				<link>
					<src>/virtualizer/nodes/node[id=SW1]/ports/port[id=2]</src>
					<dst>/virtualizer/nodes/node[id=SW1]/ports/port[id=3]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
			</links>
			<flowtable>
				<flowentry>
					<id>ESCAPE-flowentry0</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=SW1]/ports/port[id=1]</port>
					<match>dl_vlan=0x0003</match>
					<out>/virtualizer/nodes/node[id=SW1]/ports/port[id=2]</out>
				</flowentry>
				<flowentry>
					<id>ESCAPE-flowentry1</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=SW1]/ports/port[id=2]</port>
					<match>dl_vlan=0x0005</match>
					<action>strip_vlan</action>
					<out>/virtualizer/nodes/node[id=SW1]/ports/port[id=3]</out>
				</flowentry>
				<flowentry>
					<id>ESCAPE-flowentry2</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=SW1]/ports/port[id=3]</port>
					<action>push_vlan:0x0001</action>
					<out>/virtualizer/nodes/node[id=SW1]/ports/port[id=1]</out>
				</flowentry>
			</flowtable>
		</node>
		<node>
			<id>SW2</id>
			<name>switch-2</name>
			<type>SDN-SWITCH</type>
			<ports>
				<port>
					<id>1</id>
					<port_type>port-abstract</port_type>
				</port>
				<port>
					<id>2</id>
					<port_type>port-abstract</port_type>
				</port>
				<port>
					<id>3</id>
					<name>SAP2</name>
					<port_type>port-sap</port_type>
				</port>
				<port>
					<id>4</id>
					<name>SAP14</name>
					<port_type>port-sap</port_type>
					<sap>SAP14</sap>
				</port>
			</ports>
			<links>
				<link>
					<src>/virtualizer/nodes/node[id=SW2]/ports/port[id=1]</src>
					<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=2]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
				<link>
					<src>/virtualizer/nodes/node[id=SW2]/ports/port[id=1]</src>
					<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=3]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
				<link>
					<src>/virtualizer/nodes/node[id=SW2]/ports/port[id=1]</src>
					<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=4]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
				<link>
					<src>/virtualizer/nodes/node[id=SW2]/ports/port[id=2]</src>
					<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=3]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
				<link>
					<src>/virtualizer/nodes/node[id=SW2]/ports/port[id=2]</src>
					<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=4]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
				<link>
					<src>/virtualizer/nodes/node[id=SW2]/ports/port[id=3]</src>
					<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=4]</dst>
					<resources>
						<delay>0.2</delay>
						<bandwidth>10000</bandwidth>
					</resources>
				</link>
			</links>
			<flowtable>
				<flowentry>
					<id>ESCAPE-flowentry0</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=SW2]/ports/port[id=1]</port>
					<match>dl_vlan=0x0005</match>
					<out>/virtualizer/nodes/node[id=SW2]/ports/port[id=2]</out>
				</flowentry>
				<flowentry>
					<id>ESCAPE-flowentry1</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=SW2]/ports/port[id=2]</port>
					<match>dl_vlan=0x0003</match>
					<action>strip_vlan</action>
					<out>/virtualizer/nodes/node[id=SW2]/ports/port[id=3]</out>
				</flowentry>
				<flowentry>
					<id>ESCAPE-flowentry2</id>
					<priority>100</priority>
					<port>/virtualizer/nodes/node[id=SW2]/ports/port[id=3]</port>
					<action>push_vlan:0x0004</action>
					<out>/virtualizer/nodes/node[id=SW2]/ports/port[id=1]</out>
				</flowentry>
			</flowtable>
		</node>
	</nodes>
	<links>
		<link>
			<id>mn-link1</id>
			<src>/virtualizer/nodes/node[id=EE1]/ports/port[id=1]</src>
			<dst>/virtualizer/nodes/node[id=SW1]/ports/port[id=1]</dst>
			<resources>
				<delay>1.5</delay>
				<bandwidth>10</bandwidth>
			</resources>
		</link>
		<link>
			<id>mn-link2</id>
			<src>/virtualizer/nodes/node[id=EE2]/ports/port[id=1]</src>
			<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=1]</dst>
			<resources>
				<delay>1.5</delay>
				<bandwidth>10</bandwidth>
			</resources>
		</link>
		<link>
			<id>mn-link3</id>
			<src>/virtualizer/nodes/node[id=SW1]/ports/port[id=2]</src>
			<dst>/virtualizer/nodes/node[id=SW2]/ports/port[id=2]</dst>
			<resources>
				<delay>1.5</delay>
				<bandwidth>10</bandwidth>
			</resources>
		</link>
	</links>
</virtualizer>